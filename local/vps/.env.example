# VPS machine environment — copy to local/vps/.env and fill in values.
#
# Usage:
#   cp local/vps/.env.example local/vps/.env
#   # Edit local/vps/.env with real values
#
# This file is bind-mounted read-only into the wopr-vps container and
# passed to the inner compose stack. Never commit .env (only .env.example).

# ---------------------------------------------------------------------------
# Database
# ---------------------------------------------------------------------------
# Choose any password — local dev only, never production
POSTGRES_PASSWORD=wopr_local_dev

# ---------------------------------------------------------------------------
# Auth (better-auth)
# ---------------------------------------------------------------------------
# Generate with: openssl rand -hex 32
BETTER_AUTH_SECRET=REPLACE_ME_generate_with_openssl_rand_hex_32

# ---------------------------------------------------------------------------
# Platform internal auth
# ---------------------------------------------------------------------------
# Used for vault encryption and internal service-to-service auth.
# Generate with: openssl rand -hex 32
# Must be at least 32 characters.
PLATFORM_SECRET=REPLACE_ME_generate_with_openssl_rand_hex_32

# ---------------------------------------------------------------------------
# GPU node
# ---------------------------------------------------------------------------
# Secret used to validate GPU node registration calls.
# Generate with: openssl rand -hex 24
GPU_NODE_SECRET=REPLACE_ME_generate_with_openssl_rand_hex_24

# ---------------------------------------------------------------------------
# Platform API image override (for local builds)
# ---------------------------------------------------------------------------
# Set to wopr-platform-api:local after running:
#   docker build -t wopr-platform-api:local /path/to/wopr-platform
# Leave unset to use ghcr.io/wopr-network/wopr-platform:local
# PLATFORM_API_IMAGE=wopr-platform-api:local

# Platform UI image override
# PLATFORM_UI_IMAGE=wopr-platform-ui:local

# ---------------------------------------------------------------------------
# Stripe (test mode keys — use test keys for local dev)
# ---------------------------------------------------------------------------
STRIPE_SECRET_KEY=sk_test_REPLACE_ME
STRIPE_WEBHOOK_SECRET=whsec_REPLACE_ME
STRIPE_DEFAULT_PRICE_ID=price_REPLACE_ME

# ---------------------------------------------------------------------------
# Email (Resend — optional in local dev)
# ---------------------------------------------------------------------------
# Leave as placeholder to disable email sending; the API will log instead
RESEND_API_KEY=re_placeholder_local_dev
RESEND_FROM_EMAIL=noreply@localhost

# ---------------------------------------------------------------------------
# Bot image (for Dockerode fleet spawning)
# ---------------------------------------------------------------------------
WOPR_BOT_IMAGE=ghcr.io/wopr-network/wopr:latest

# ---------------------------------------------------------------------------
# GHCR credentials (optional — only needed if pulling private images)
# ---------------------------------------------------------------------------
REGISTRY_USERNAME=
REGISTRY_PASSWORD=
REGISTRY_SERVER=ghcr.io

# ---------------------------------------------------------------------------
# DigitalOcean (optional in local dev)
# ---------------------------------------------------------------------------
# Only needed if you want InferenceWatchdog to attempt droplet reboots.
# Without this, watchdog runs but reboot calls fail gracefully.
DO_API_TOKEN=
